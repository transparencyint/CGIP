.legend.controls
  position absolute
  z-index 9
  right 0
  bottom 0
  color hsl(213,34%,93%)
  text-shadow 0 -1px hsl(213,34%,13%)
  border-radius 3px 0 0 0
  border-bottom none
  border-right none
  cursor default
  header
    padding 8px 13px
    h3
      margin 0
  .row
    position relative
    height 46px
    border-top 1px solid hsl(213, 70%, 38%)
    box-shadow 0 1px hsl(215,53%,56%) inset
    &.combo
      height 58px
      padding 5px 0
      .first, .second
        height 24px
        position relative
      .label
        line-height 24px
      .first .state
        height 60px
        margin-top -5px
        z-index 1
        &:after
          margin-top 25px
      .second .state
        display none
  .label
    margin-right 46px
    line-height 46px
    padding-left 42px
    padding-right 10px
    color hsl(213,34%,93%)
    white-space nowrap
    &.above
      padding-top 8px
      line-height inherit
      .name
        display block
        margin-bottom 3px
      img
        width auto
        margin-right 0
        vertical-align top
    .name
      display inline-block
      font-size 12px
    svg, img, .preview
      left 10px
      top 0
      bottom 0
      margin auto
      position absolute
      vertical-align middle
    .preview
      width 24px
      height 16px
      background linear-gradient(top, #f5f5f5, #fbfbfb)
      border-width 4px
      border-style solid
      border-radius 1px
      box-shadow 0 1px 1px 1px rgba(0,0,0,.21), 0 1px #fff inset, 0 -1px #f0f0f0 inset
    img
      width 16px
      margin-left 4px
  .state
    height 100%
    top 0
    right 0
    width 46px
    position absolute
    border-left 1px solid hsl(213, 70%, 38%)
    box-shadow 1px 0 hsl(215,53%,56%) inset
    cursor pointer
    &:after
      content ""
      position absolute
      margin 18px 15px
      width 16px
      height 9px
      opacity 0
      background url(../images/glyphicons_051_eye_open.png)
      background-size cover
    &.visible:after
      opacity .5