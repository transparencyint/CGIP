@font-face
  font-family "HelveticaNeueW01-57Cn"
  src url(/HelveticaNeueW01-57Cn.woff)

#worldMap
  background -webkit-radial-gradient(hsl(65,75%,72%), hsl(104,54%,65%))
  background    -moz-radial-gradient(hsl(65,75%,72%), hsl(104,54%,65%))
  background     -ms-radial-gradient(hsl(65,75%,72%), hsl(104,54%,65%))
  background      -o-radial-gradient(hsl(65,75%,72%), hsl(104,54%,65%))
  background         radial-gradient(hsl(65,75%,72%), hsl(104,54%,65%))
  color #5d5d5d
  header 
    padding 13px 13px 19px
    position absolute
    top 0
    left 0
    right 0
    background url(/images/bg-title.png) repeat-x 0 100%
    .map-controls
      float right
      margin-top -6px
      position relative
      .button
        margin 0 0 0 8px
        padding 0 13px
        text-shadow none
        color hsl(205,68%,52%)
        line-height 34px
        background hsl(205,13%,97%)
        border none
        box-shadow 0 1px 3px hsla(205,100%,13%,.21), 0 0 0 1px hsla(205,50%,13%,.21), 0 1px white
      .visible
        display inline
      .ok, .cancel
        display none
      &.edit-mode
        .ok, .cancel
          display inline
        #add-country, .edit
          display none
      &.mode-add-country
        #add-country 
          input
            display inline
          .button
            border-radius 0 3px 3px 0
        .edit
          display none
      #add-country
        position relative
        z-index 1
        float left
        margin-left 8px
        input
          height 34px
          padding 0 8px
          width 200px
          font-size 12px
          border-radius 2px 0 0 2px
          box-shadow 0 1px hsla(0,0%,0%,.13) inset, 0 0 0 1px hsla(0,0%,0%,.21)
          outline none
          float left
          display none
        .button
          margin 0
          border-radius 3px
          cursor pointer
        ul
          list-style none
          padding 0
          position absolute
          width 199px
          left 0
          top 20px
          overflow auto
          border-radius 0 0 2px 2px
          box-shadow 0 1px 3px rgba(0,0,0,.34)
          li
            padding 5px 5px 5px 35px
            cursor pointer
            background-color white
            background-size 20px
            background-position 5px 8px
            background-repeat no-repeat
            white-space nowrap
            text-overflow ellipsis
            overflow hidden
            &:last-child, &:only-child
              border-radius 0 0 2px 2px
            &:hover, &.active
              background-color hsl(205,68%,52%)
              color white
    h1 
      display block
      margin 0
      color #333
      font-size 24px
      line-height 28px
      font-family "HelveticaNeueW01-57Cn", "Helvetica Neue", Helvetica, Arial, sans-serif
      font-weight normal
      text-shadow none
      text-transform uppercase
    #link-area
      position absolute
      right 8px
      top -2px
      a
        line-height 27px
        height 27px
        color #698147
        border-color #698147
  a
    color hsl(205,68%,52%)
    text-decoration none
  .inner
    position absolute
    top 60px
    right 0
    bottom 44px
    left 0
    overflow auto
    .box
      width 100%
      height 100%
      position relative
      box(center,center,horizontal)
      vertical-align top
  .map 
    position relative
    height 422px
    width 956px
    margin-left -113px
    margin-top 13px
    perspective 1000px
    &:before 
      content ""
      position absolute
      left 0
      top 0
      right 0
      bottom 0
      background url(/images/greenWorld.png) no-repeat center
      opacity .5
    &.edit-mode
      .delete
        display block
      .country 
        .label
          animation jiggle 250ms infinite
          transform rotate(-1deg)
          transform-origin 18px bottom
        &:nth-child(2n) .label
          animation-delay 30ms
          animation-duration 240ms
        &:nth-child(3n) .label
          animation-delay 200ms
          animation-duration 260ms
        &:nth-child(4n) .label
          animation-delay 130ms
          animation-duration 255ms
  .country 
    position absolute
    opacity 0
    transform scale(0.5) translateY(10px)
    transition transform 250ms, opacity 250ms
    .point
      position absolute
      width 8px
      height 8px
      border 1px solid hsl(205,68%,40%)
      background hsl(205,68%,53%)
      box-shadow 0 1px hsl(205,68%,70%) inset, 0 1px 2px hsla(205,100%,13%,.34)
      border-radius 100%
    &:hover
      z-index 1
    &.appear 
      opacity 1
      transform none
    &.transparent
      opacity 0.35
    .delete
      width 46px
      height 46px
      position absolute
      top -23px
      left -23px
      display none
      cursor pointer
      &:after
        content "Ã—"
        position absolute
        top 11px
        left 11px
        width 24px
        height 24px
        
        color white
        font-size 21px
        line-height 21px
        text-align center
        
        background black
        border-radius 100%
        border 2px solid white
        box-shadow 0 1px 5px black
    .label 
      position absolute
      white-space nowrap
      left -18px
      top -44px
    &:active .label 
      top -43px
    &.below .label 
      top 19px
    &.below:active .label 
      top 20px
    &.right .label 
      left auto
      right -18px
    .label a 
      display block
      padding 8px 13px 7px
      color white
      line-height 1
      text-decoration none
      border-radius 3px
      border 1px solid hsl(205,68%,40%)
      background hsl(205,68%,53%)
      box-shadow 0 1px hsl(205,68%,70%) inset, 0 1px 2px hsla(205,100%,13%,.34)
    .arrow 
      position absolute
      bottom -9px
      left 14px
      overflow hidden
      width 16px
      height 10px
      &:before 
        content ""
        position absolute
        left 2px
        top -6px
        width 10px
        height 10px
        transform rotate(45deg)
        border 1px solid hsl(205,68%,40%)
        background hsl(205,68%,53%)
        box-shadow 0 1px 2px hsla(205,100%,13%,.34)
    &.below .arrow 
      bottom auto
      top -8px
      height 10px
    &.right .arrow 
      left auto
      right 14px
    &.below .arrow:before 
      top 4px 
  footer
    position absolute
    left 0
    right 0
    bottom 0
    margin-top 21px
    padding 13px
    font-size 13px
    border-top 1px solid rgba(0,0,0,.21)
    overflow hidden
    box-shadow 0 1px hsla(104,100%,86%,.55) inset
    .left 
      float left
    .right 
      float right
    
@keyframes jiggle {
  0% { transform: rotate(-1deg) translate3d(1px,1px,1px); }
  50% { transform: rotate(1deg) translate3d(-1px,-1px,-1px); }
}